---
import ChevronDown from './icons/ChevronDown.astro';

const faqs = [
  {
    question: '¿Qué es XuperPlay y cómo funciona?',
    answer:
      'XuperPlay es una plataforma de streaming que te permite acceder a miles de canales en vivo, películas, series y contenido on-demand desde cualquier dispositivo. Solo necesitas descargar la app, crear tu cuenta y comenzar a disfrutar.',
  },
  {
    question: '¿En qué dispositivos puedo usar XuperPlay?',
    answer:
      'XuperPlay es compatible con Smart TVs (Samsung, LG, Sony), dispositivos Android (teléfonos, tablets, TV boxes), iOS (iPhone, iPad), Amazon Fire TV/Firestick, y puedes verlo también desde tu navegador web.',
  },
  {
    question: '¿Necesito una conexión a internet rápida?',
    answer:
      'Recomendamos una conexión de al menos 5 Mbps para streaming en calidad estándar y 10 Mbps o más para HD/4K. Sin embargo, nuestra tecnología se adapta automáticamente a tu velocidad de internet para ofrecerte la mejor experiencia posible.',
  },
  {
    question: '¿Puedo ver contenido sin conexión a internet?',
    answer:
      'Sí, con la función de descarga puedes guardar tus programas, películas y series favoritas en tu dispositivo para verlas sin conexión cuando quieras. Esta función está disponible en la versión Premium.',
  },
  {
    question: '¿Cuántos dispositivos puedo conectar simultáneamente?',
    answer:
      'Dependiendo de tu plan de suscripción, puedes conectar de 1 a 5 dispositivos simultáneamente. El plan Básico permite 1 dispositivo, el plan Estándar 2 dispositivos, y el plan Premium hasta 5 dispositivos.',
  },
  {
    question: '¿Ofrecen período de prueba gratuito?',
    answer:
      'Sí, ofrecemos un período de prueba gratuito de 7 días para que puedas explorar todas las funcionalidades de XuperPlay sin compromiso. No se requiere tarjeta de crédito para la prueba.',
  },
  {
    question: '¿Cómo puedo cancelar mi suscripción?',
    answer:
      'Puedes cancelar tu suscripción en cualquier momento desde la configuración de tu cuenta. Ve a "Mi Cuenta" > "Suscripción" > "Cancelar". No hay penalizaciones ni cargos por cancelación.',
  },
  {
    question: '¿Qué métodos de pago aceptan?',
    answer:
      'Aceptamos tarjetas de crédito y débito (Visa, Mastercard, American Express), PayPal, transferencias bancarias y pagos en efectivo a través de puntos de pago autorizados en tu país.',
  },
];
---

<section id="faqs" class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <!-- Section Header -->
    <div class="text-center mb-16 max-w-3xl mx-auto">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
        Preguntas <span class="">Frecuentes</span>
      </h2>
      <p class="text-lg md:text-xl text-gray-600">
        Encuentra respuestas rápidas a las preguntas más comunes sobre XuperPlay
      </p>
    </div>

    <!-- FAQ Accordion -->
    <div class="max-w-4xl mx-auto space-y-4">
      {
        faqs.map((faq, index) => (
          <div class="faq-item bg-white rounded-xl border border-gray-200 overflow-hidden hover:border-primary-500 transition-colors duration-300">
            {/* Question Button */}
            <button
              class="faq-question w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition-colors duration-300"
              data-faq-index={index}
              aria-expanded="false"
            >
              <span class="text-lg font-semibold text-gray-900 pr-8">
                {faq.question}
              </span>
              <ChevronDown
                size={24}
                class="faq-icon text-primary-600 flex-shrink-0 transition-transform duration-300"
              />
            </button>

            {/* Answer Content */}
            <div
              class="faq-answer max-h-0 overflow-hidden transition-all duration-300 ease-in-out"
              data-faq-answer={index}
            >
              <div class="px-6 pb-6 pt-2">
                <p class="text-gray-700 leading-relaxed">{faq.answer}</p>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <!-- Contact CTA -->
    <div class="text-center mt-12">
      <p class="text-gray-600 mb-4 text-lg">
        ¿No encuentras la respuesta que buscas?
      </p>
      <a
        href="https://wa.me/573014034646?text=Aun%20tengo%20dudas%20y%20quiero%20mas%20informacion"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block px-8 py-3 gradient-primary text-white rounded-lg font-semibold hover:shadow-lg hover:scale-105 transition-all duration-300"
      >
        Contáctanos
      </a>
    </div>
  </div>
</section>

<script>
  // FAQ Accordion functionality
  const faqQuestions = document.querySelectorAll('.faq-question');

  faqQuestions.forEach((question) => {
    question.addEventListener('click', () => {
      const index = question.getAttribute('data-faq-index');
      const answer = document.querySelector(`[data-faq-answer="${index}"]`);
      const icon = question.querySelector('.faq-icon');
      const isExpanded = question.getAttribute('aria-expanded') === 'true';

      // Toggle current item
      if (isExpanded) {
        answer?.classList.remove('max-h-96');
        answer?.classList.add('max-h-0');
        icon?.classList.remove('rotate-180');
        question.setAttribute('aria-expanded', 'false');
      } else {
        answer?.classList.remove('max-h-0');
        answer?.classList.add('max-h-96');
        icon?.classList.add('rotate-180');
        question.setAttribute('aria-expanded', 'true');
      }
    });
  });
</script>

<style>
  .faq-answer {
    transition: max-height 0.3s ease-in-out;
  }

  .max-h-96 {
    max-height: 24rem;
  }
</style>
